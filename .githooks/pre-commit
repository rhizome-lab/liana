#!/usr/bin/env bash
# Pre-commit hook: format check and clippy
#
# Install: git config core.hooksPath .githooks

set -e

echo "Running cargo fmt check..."
cargo fmt --check

echo "Running cargo clippy..."
cargo clippy --workspace --all-targets -- -D warnings 2>/dev/null || {
    echo "  Warning: clippy check failed or not available (non-critical)"
}

echo "Pre-commit checks passed!"
